[general]
output = "/exp/sbnd/data/users/brindenc/medulla/test/numucc_incl_sys_cont"

[[sample]]
name = "simulation"
path = "/pnfs/sbnd/scratch/users/mueller/mc5e18/input000.flat.root"
ismc = true

[[sample]]
name = "data"
path = "/pnfs/sbnd/scratch/users/mueller/sbnd_devsample_test08052025.flat.root"
ismc = false

[[sample]]
name = "data_offbeam"
path = "/pnfs/sbnd/scratch/users/mueller/firstMC2025B/data_MCP2025B_02_InTimeCosmics_offbeamlight_v10_06_00_02/input000.flat.root"
ismc = false

[[tree]]
name = "selected1muXNu"
sim_only = false
mode = "reco"
cut = [
    {name = "neutrino", type = "true"},
    {name = "fiducial_cut", type = "reco", parameters = [-190.0,190.0,-190.0,190.0,10.0,450.0]},
    {name = "has_muon", type = "reco", parameters = [25.0]},
    {name = "containment_cut", type = "reco"}
]
branch = [
    #Store cuts as variables
    {name = "valid_flashmatch", type = "reco"},
    {name = "leading_muon_start_dedx_bool", type = "reco", parameters = [3.5]},
    {name = "flash_score_bool", type = "reco", parameters = [102.35]},

    # Interaction-level truth/reco branches
    {name = "neutrino_id", type = "true"},
    { name = "baseline",                type = "mctruth" },
    { name = "cc",                      type = "mctruth" },
    { name = "pdg",                     type = "mctruth" },
    { name = "interaction_type",        type = "mctruth" },
    { name = "category",                type = "true"    },
    { name = "iou",                     type = "both"    },

    
    # Leading muon variables
    {name = "costheta", type = "both_particle", selector = "leading_muon"},
    {name = "momentum", type = "both_particle", selector = "leading_muon"},
    {name = "start_dedx", type = "reco_particle", selector = "leading_muon"},
    {name = "start_x", type = "both_particle", selector = "leading_muon"},
    {name = "start_y", type = "both_particle", selector = "leading_muon"},
    {name = "start_z", type = "both_particle", selector = "leading_muon"},
    { name = "end_x",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_y",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_z",             type = "both_particle", selector = "leading_muon"   },
    {name = "ke", type = "both_particle", selector = "leading_muon"},
    {name = "length", type = "both_particle", selector = "leading_muon"},
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_muon"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_muon"   },
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_pion"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_pion"   },
    { name = "polar_angle",       type = "both_particle", selector = "leading_muon"   },
    { name = "azimuthal_angle",   type = "both_particle", selector = "leading_muon"   },
    { name = "secondary_softmax", type = "reco_particle", selector = "leading_muon"   },
    { name = "mip_softmax",       type = "reco_particle", selector = "leading_muon"   },
    { name = "hadron_softmax",    type = "reco_particle", selector = "leading_muon"   },

    #Vertex variables
    {name = "vertex_x", type = "both"},
    {name = "vertex_y", type = "both"},
    {name = "vertex_z", type = "both"},

    #Flash variables
    {name = "flash_score", type = "reco"},
    {name = "flash_hypothesis", type = "reco"},
    {name = "flash_time", type = "reco"},
    {name = "flash_total_pe", type = "reco"}


]

[[tree]]
name = "selected1muXCos"
sim_only = false
mode = "reco"
cut = [
    {name = "!neutrino", type = "true"},
    {name = "fiducial_cut", type = "reco", parameters = [-190.0,190.0,-190.0,190.0,10.0,450.0]},
    {name = "has_muon", type = "reco", parameters = [25.0]},
    {name = "containment_cut", type = "reco"}
]
branch = [
    #Store cuts as variables
    {name = "valid_flashmatch", type = "reco"},
    {name = "leading_muon_start_dedx_bool", type = "reco", parameters = [3.5]},
    {name = "flash_score_bool", type = "reco", parameters = [102.35]},

    # Interaction-level truth/reco branches
    {name = "neutrino_id", type = "true"},
    { name = "baseline",                type = "mctruth" },
    { name = "cc",                      type = "mctruth" },
    { name = "pdg",                     type = "mctruth" },
    { name = "interaction_type",        type = "mctruth" },
    { name = "category",                type = "true"    },
    { name = "iou",                     type = "both"    },
    
    # Leading muon variables
    {name = "costheta", type = "both_particle", selector = "leading_muon"},
    {name = "momentum", type = "both_particle", selector = "leading_muon"},
    {name = "start_dedx", type = "reco_particle", selector = "leading_muon"},
    {name = "start_x", type = "both_particle", selector = "leading_muon"},
    {name = "start_y", type = "both_particle", selector = "leading_muon"},
    {name = "start_z", type = "both_particle", selector = "leading_muon"},
    { name = "end_x",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_y",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_z",             type = "both_particle", selector = "leading_muon"   },
    {name = "ke", type = "both_particle", selector = "leading_muon"},
    {name = "length", type = "both_particle", selector = "leading_muon"},
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_muon"   },
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_pion"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_pion"   },
    { name = "polar_angle",       type = "both_particle", selector = "leading_muon"   },
    { name = "azimuthal_angle",   type = "both_particle", selector = "leading_muon"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_muon"   },
    { name = "secondary_softmax", type = "reco_particle", selector = "leading_muon"   },
    { name = "mip_softmax",       type = "reco_particle", selector = "leading_muon"   },
    { name = "hadron_softmax",    type = "reco_particle", selector = "leading_muon"   },

    #Vertex variables
    {name = "vertex_x", type = "both"},
    {name = "vertex_y", type = "both"},
    {name = "vertex_z", type = "both"},

    #Flash variables
    {name = "flash_score", type = "reco"},
    {name = "flash_hypothesis", type = "reco"},
    {name = "flash_time", type = "reco"},
    {name = "flash_total_pe", type = "reco"}
]

[[tree]]
name = "selected1muXNu_none"
sim_only = false
mode = "reco"
cut = [
    {name = "neutrino", type = "true"},

]
branch = [
    #Store cuts as variables
    {name = "valid_flashmatch", type = "reco"},
    {name = "fiducial_bool", type = "reco", parameters = [-190.0,190.0,-190.0,190.0,10.0,450.0]},
    {name = "has_muon_bool", type = "reco", parameters = [25.0]},
    {name = "leading_muon_start_dedx_bool", type = "reco", parameters = [3.5]},
    {name = "flash_score_bool", type = "reco", parameters = [102.35]},
    {name = "containment", type = "reco"},

    # Interaction-level truth/reco branches
    {name = "neutrino_id", type = "true"},
    { name = "baseline",                type = "mctruth" },
    { name = "cc",                      type = "mctruth" },
    { name = "pdg",                     type = "mctruth" },
    { name = "interaction_type",        type = "mctruth" },
    { name = "category",                type = "true"    },
    { name = "iou",                     type = "both"    },
    
    # Leading muon variables
    {name = "costheta", type = "both_particle", selector = "leading_muon"},
    {name = "momentum", type = "both_particle", selector = "leading_muon"},
    {name = "start_dedx", type = "reco_particle", selector = "leading_muon"},
    {name = "start_x", type = "both_particle", selector = "leading_muon"},
    {name = "start_y", type = "both_particle", selector = "leading_muon"},
    {name = "start_z", type = "both_particle", selector = "leading_muon"},
    { name = "end_x",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_y",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_z",             type = "both_particle", selector = "leading_muon"   },
    {name = "ke", type = "both_particle", selector = "leading_muon"},
    {name = "length", type = "both_particle", selector = "leading_muon"},
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_muon"   },
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_pion"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_pion"   },
    { name = "polar_angle",       type = "both_particle", selector = "leading_muon"   },
    { name = "azimuthal_angle",   type = "both_particle", selector = "leading_muon"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_muon"   },
    { name = "secondary_softmax", type = "reco_particle", selector = "leading_muon"   },
    { name = "mip_softmax",       type = "reco_particle", selector = "leading_muon"   },
    { name = "hadron_softmax",    type = "reco_particle", selector = "leading_muon"   },

    #Vertex variables
    {name = "vertex_x", type = "both"},
    {name = "vertex_y", type = "both"},
    {name = "vertex_z", type = "both"},

    #Flash variables
    {name = "flash_score", type = "reco"},
    {name = "flash_hypothesis", type = "reco"},
    {name = "flash_time", type = "reco"},
    {name = "flash_total_pe", type = "reco"}
]

[[tree]]
name = "selected1muX_none"
sim_only = false
mode = "reco"
cut = [

]
branch = [
    #Store cuts as variables
    {name = "valid_flashmatch", type = "reco"},
    {name = "fiducial_bool", type = "reco", parameters = [-190.0,190.0,-190.0,190.0,10.0,450.0]},
    {name = "has_muon_bool", type = "reco", parameters = [25.0]},
    {name = "leading_muon_start_dedx_bool", type = "reco", parameters = [3.5]},
    {name = "flash_score_bool", type = "reco", parameters = [102.35]},
    {name = "containment", type = "reco"},

    # Interaction-level truth/reco branches
    {name = "neutrino_id", type = "true"},
    { name = "baseline",                type = "mctruth" },
    { name = "cc",                      type = "mctruth" },
    { name = "pdg",                     type = "mctruth" },
    { name = "interaction_type",        type = "mctruth" },
    { name = "category",                type = "true"    },
    { name = "iou",                     type = "both"    },
    
    # Leading muon variables
    {name = "costheta", type = "both_particle", selector = "leading_muon"},
    {name = "momentum", type = "both_particle", selector = "leading_muon"},
    {name = "start_dedx", type = "reco_particle", selector = "leading_muon"},
    {name = "start_x", type = "both_particle", selector = "leading_muon"},
    {name = "start_y", type = "both_particle", selector = "leading_muon"},
    {name = "start_z", type = "both_particle", selector = "leading_muon"},
    { name = "end_x",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_y",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_z",             type = "both_particle", selector = "leading_muon"   },
    {name = "ke", type = "both_particle", selector = "leading_muon"},
    {name = "length", type = "both_particle", selector = "leading_muon"},
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_muon"   },
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_pion"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_pion"   },
    { name = "polar_angle",       type = "both_particle", selector = "leading_muon"   },
    { name = "azimuthal_angle",   type = "both_particle", selector = "leading_muon"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_muon"   },
    { name = "secondary_softmax", type = "reco_particle", selector = "leading_muon"   },
    { name = "mip_softmax",       type = "reco_particle", selector = "leading_muon"   },
    { name = "hadron_softmax",    type = "reco_particle", selector = "leading_muon"   },

    #Vertex variables
    {name = "vertex_x", type = "both"},
    {name = "vertex_y", type = "both"},
    {name = "vertex_z", type = "both"},

    #Flash variables
    {name = "flash_score", type = "reco"},
    {name = "flash_hypothesis", type = "reco"},
    {name = "flash_time", type = "reco"},
    {name = "flash_total_pe", type = "reco"}
]

[[tree]]
name = "selected1muXCos_none"
sim_only = false
mode = "reco"
cut = [
    {name = "!neutrino", type = "true"},

]
branch = [
    #Store cuts as variables
    {name = "valid_flashmatch", type = "reco"},
    {name = "fiducial_bool", type = "reco", parameters = [-190.0,190.0,-190.0,190.0,10.0,450.0]},
    {name = "has_muon_bool", type = "reco", parameters = [25.0]},
    {name = "leading_muon_start_dedx_bool", type = "reco", parameters = [3.5]},
    {name = "flash_score_bool", type = "reco", parameters = [102.35]},
    {name = "containment", type = "reco"},
    
    # Interaction-level truth/reco branches
    {name = "neutrino_id", type = "true"},
    { name = "baseline",                type = "mctruth" },
    { name = "cc",                      type = "mctruth" },
    { name = "pdg",                     type = "mctruth" },
    { name = "interaction_type",        type = "mctruth" },
    { name = "category",                type = "true"    },
    { name = "iou",                     type = "both"    },
    
    # Leading muon variables
    {name = "costheta", type = "both_particle", selector = "leading_muon"},
    {name = "momentum", type = "both_particle", selector = "leading_muon"},
    {name = "start_dedx", type = "reco_particle", selector = "leading_muon"},
    {name = "start_x", type = "both_particle", selector = "leading_muon"},
    {name = "start_y", type = "both_particle", selector = "leading_muon"},
    {name = "start_z", type = "both_particle", selector = "leading_muon"},
    { name = "end_x",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_y",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_z",             type = "both_particle", selector = "leading_muon"   },
    {name = "ke", type = "both_particle", selector = "leading_muon"},
    {name = "length", type = "both_particle", selector = "leading_muon"},
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_muon"   },
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_pion"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_pion"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_pion"   },
    { name = "polar_angle",       type = "both_particle", selector = "leading_muon"   },
    { name = "azimuthal_angle",   type = "both_particle", selector = "leading_muon"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_muon"   },
    { name = "secondary_softmax", type = "reco_particle", selector = "leading_muon"   },
    { name = "mip_softmax",       type = "reco_particle", selector = "leading_muon"   },
    { name = "hadron_softmax",    type = "reco_particle", selector = "leading_muon"   },

    #Vertex variables
    {name = "vertex_x", type = "both"},
    {name = "vertex_y", type = "both"},
    {name = "vertex_z", type = "both"},

    #Flash variables
    {name = "flash_score", type = "reco"},
    {name = "flash_hypothesis", type = "reco"},
    {name = "flash_time", type = "reco"},
    {name = "flash_total_pe", type = "reco"}
]

[[tree]]
name = "signal1muX"
sim_only = true
mode = "true"
cut = [
    {name = "neutrino", type = "true"},
    {name = "fiducial_cut", type = "true", parameters = [-190.0,190.0,-190.0,190.0,10.0,450.0]},
    {name = "has_muon", type = "true", parameters = [25.0]},
    {name = "containment_cut", type = "true"}
]
branch = [
    #Store cuts as variables
    {name = "valid_flashmatch", type = "reco"},
    {name = "fiducial_bool", type = "reco", parameters = [-190.0,190.0,-190.0,190.0,10.0,450.0]},
    {name = "has_muon_bool", type = "reco", parameters = [25.0]},
    {name = "leading_muon_start_dedx_bool", type = "reco", parameters = [3.5]},
    {name = "flash_score_bool", type = "reco", parameters = [102.35]},
    {name = "containment", type = "reco"},

    # Interaction-level truth/reco branches
    {name = "neutrino_id", type = "true"},
    { name = "baseline",                type = "mctruth" },
    { name = "cc",                      type = "mctruth" },
    { name = "pdg",                     type = "mctruth" },
    { name = "interaction_type",        type = "mctruth" },
    { name = "category",                type = "true"    },
    { name = "iou",                     type = "both"    },

    # Leading muon variables
    {name = "costheta", type = "both_particle", selector = "leading_muon"},
    {name = "momentum", type = "both_particle", selector = "leading_muon"},
    {name = "start_dedx", type = "reco_particle", selector = "leading_muon"},
    {name = "start_x", type = "both_particle", selector = "leading_muon"},
    {name = "start_y", type = "both_particle", selector = "leading_muon"},
    {name = "start_z", type = "both_particle", selector = "leading_muon"},
    { name = "end_x",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_y",             type = "both_particle", selector = "leading_muon"   },
    { name = "end_z",             type = "both_particle", selector = "leading_muon"   },
    {name = "ke", type = "both_particle", selector = "leading_muon"},
    {name = "length", type = "both_particle", selector = "leading_muon"},
    { name = "muon_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "pion_softmax",      type = "reco_particle", selector = "leading_muon"   },
    { name = "proton_softmax",    type = "reco_particle", selector = "leading_muon"   },
    { name = "polar_angle",       type = "both_particle", selector = "leading_muon"   },
    { name = "azimuthal_angle",   type = "both_particle", selector = "leading_muon"   },
    { name = "primary_softmax",   type = "reco_particle", selector = "leading_muon"   },
    { name = "secondary_softmax", type = "reco_particle", selector = "leading_muon"   },
    { name = "mip_softmax",       type = "reco_particle", selector = "leading_muon"   },
    { name = "hadron_softmax",    type = "reco_particle", selector = "leading_muon"   },

    #Vertex variables
    {name = "vertex_x", type = "both"},
    {name = "vertex_y", type = "both"},
    {name = "vertex_z", type = "both"},

    #Flash variables
    {name = "flash_score", type = "reco"},
    {name = "flash_hypothesis", type = "reco"},
    {name = "flash_time", type = "reco"},
    {name = "flash_total_pe", type = "reco"}
]